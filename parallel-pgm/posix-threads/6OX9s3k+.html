<html>
<head>
<title> CSCI 3366 (Introduction to Parallel and Distributed Processing):
	Sample Programs
</title>
</head>

<body>
<h1>

CSCI 3366 (Introduction to Parallel and Distributed Processing): <br>
	Sample Programs

</h1>

<h2> OpenMP </h2>

<ul>
<li> My notes <a href="http://www.cs.trinity.edu/~bmassing/Misc/openmp-howto/">
	Using OpenMP on the Linux Lab Machines</a>.

<li> Sample makefile <a href="OpenMP/Makefile">Makefile</a>
	for compiling C and C++ programs.
	(See the <a href="#makefilenote">Note About
	Makefiles</a> below.)

<li> "Hello, world" programs: 
    <a href="OpenMP/hello.c">hello.c</a>,
    <a href="OpenMP/hello++.cpp">hello++.cpp</a>.

</ul>

<li> Utility functions for use with remaining examples:
	<a href="Sequential-C/timer.h">timer.h</a>,
	<a href="Sequential-C/cmdline.h">cmdline.h</a>.

<li> Simple example of synchronization among threads:
	<ul>
	<li> Without synchronization:
		<a href="OpenMP/synch-1.c">synch-1.c</a>.
	<li> Using critical section for synchronization:
		<a href="OpenMP/synch-2.c">synch-2.c</a>.
	<li> Using lock for synchronization:
		<a href="OpenMP/synch-3.c">synch-3.c</a>.
	</ul>

<li> Programs to compute pi by numerical integration:
	<ul>
	<li> Sequential version:
		<a href="Sequential-C/num-int-seq.c">num-int-seq.c</a>.
	<li> Parallel version using OpenMP constructs:
		<a href="OpenMP/num-int-par.c">num-int-par.c</a>.
	<li> Parallel versions using OpenMP constructs with
		SPMD approach (see comments in code for
		differences among versions):
		<a href="OpenMP/num-int-par-spmd-1.c">
		num-int-par-spmd-1.c</a>,
		<a href="OpenMP/num-int-par-spmd-2.c">
		num-int-par-spmd-2.c</a>.
	</ul>

<li> Programs for heat diffusion example:
	<ul>
	<li> Sequential version:
		<a href="Sequential-C/heat-eqn-seq.c">heat-eqn-seq.c</a>.
	<li> Parallel version: 
		<a href="OpenMP/heat-eqn-par.c">heat-eqn-par.c</a>.
	<li> SPMD-style parallel version: 
		<a href="OpenMP/heat-eqn-par-spmd.c">heat-eqn-par-spmd.c</a>.
	<li> Revised versions that combine loops where feasible:
		<a href="Sequential-C/heat-eqn-seq-v2.c">heat-eqn-seq-v2.c</a>,
		<a href="OpenMP/heat-eqn-par-v2.c">heat-eqn-par-v2.c</a>,
		<a href="OpenMP/heat-eqn-par-spmd-v2.c">heat-eqn-par-spmd-v2.c</a>.
	<li> Additional code for above programs (you will need these
		to compile):
		<a href="Sequential-C/heat-eqn-functions.h">heat-eqn-functions.h</a>.
	</ul>

<li> Programs for Mandelbrot example:
	<ul>
	<li> Sequential version:
		<a href="Sequential-C/mandelbrot-seq.c">
			mandelbrot-seq.c</a>.
	<li> Parallel version with one-point-at-a-time critical section:
		<a href="OpenMP/mandelbrot-omp-by-points.c">
			mandelbrot-omp-by-points.c</a>.
	<li> Parallel version with one-row-at-a-time critical section:
		<a href="OpenMP/mandelbrot-omp-by-rows.c">
			mandelbrot-omp-by-rows.c</a>.
	<li> Additional code for above programs (you will need these
		to compile):
		<a href="Sequential-C/mandelbrot-gui.h">mandelbrot-gui.h</a>.
	<li> Makefile:
		<a href="OpenMP/Makefile.mandelbrot">
			Makefile.mandelbrot </a>
	</ul>

<li> Programs for matrix multiplication example:
	<ul>
	<li> Simple sequential version:
		<a href="Sequential-C/matrix-mult-seq-simple.c">
			matrix-mult-seq-simple.c</a>.
	<li> Block-based sequential version:
		<a href="Sequential-C/matrix-mult-seq-block.c">
			matrix-mult-seq-block.c</a>.
	<li> Block-based parallel version:
		<a href="OpenMP/matrix-mult-par-block.c">
			matrix-mult-par-block.c</a>.
	<li> Additional code for above programs (you will need these
		to compile):
		<a href="Sequential-C/matrix-mult-initfortest.h">
			matrix-mult-initfortest.h</a>,
		<a href="Sequential-C/matrix-mult-print.h">
			matrix-mult-print.h</a>,
		<a href="Sequential-C/matrix-mult-utility.h">
			matrix-mult-utility.h</a>.
	</ul>

<li> Generic master/worker programs:
	<ul>
	<li> Sequential version:
		<a href="Sequential-C/master-worker-seq.c">
		master-worker-seq.c</a>.
	<li> Parallel version (static assignment of tasks to workers):
		<a href="OpenMP/master-worker-par-static.c">
		master-worker-par-static.c</a>.
	<li> Parallel version (dynamic assignment of tasks to workers):
		<a href="OpenMP/master-worker-par-dynamic.c">
		master-worker-par-dynamic.c</a>.
	<li> Additional code for above programs (you will need these
		to compile):
		<a href="Sequential-C/master-worker-functions.h">
		master-worker-functions.h</a>.
	</ul>


</ul>

<h2> MPI </h2>

<ul>
<li> My notes <a href="http://www.cs.trinity.edu/~bmassing/Misc/mpi-howto/">
	Using MPI on the Linux Lab Machines</a>.

<li> Sample makefile <a href="MPI/Makefile">Makefile</a>
	for compiling C and C++ programs.
	(See the <a href="#makefilenote">Note About
        Makefiles</a> below.)

<li> "Hello, world" programs:
	<a href="MPI/hello.c">hello.c</a>.
	<a href="MPI/hello++.cpp">hello++.cpp</a>.

<li> "Hello, world" program with command-line arguments and hostname:
	<a href="MPI/fancy-hello.c">fancy-hello.c</a>.

<li> Utility functions for use with remaining examples:
	<a href="MPI/utility.h">utility.h</a>,
	<a href="Sequential-C/timer.h">timer.h</a>,
	<a href="Sequential-C/cmdline.h">cmdline.h</a>.

<li> Trivial example of send/receive:
	<a href="MPI/send-recv.c">send-recv.c</a>.

<li> Simple send/receive with timing:
	<a href="MPI/time-msg.c">time-msg.c</a>.

<li> Programs to compute pi by numerical integration:
	<ul>
	<li> Sequential version:
		<a href="Sequential-C/num-int-seq.c">num-int-seq.c</a>.
	<li> Parallel version: 
		<a href="MPI/num-int-par.c">num-int-par.c</a>.
	</ul>

<li> Programs for heat diffusion example:
	<ul>
	<li> Sequential version:
		<a href="Sequential-C/heat-eqn-seq.c">heat-eqn-seq.c</a>.
	<li> Parallel version: 
		<a href="MPI/heat-eqn-par.c">heat-eqn-par.c</a>.
	<li> Parallel version with overlapping computation and
		communication: 
		<a href="MPI/heat-eqn-par-overlap.c">heat-eqn-par-overlap.c</a>.
	<li> Revised versions that combine loops where feasible:
		<a href="Sequential-C/heat-eqn-seq-v2.c">heat-eqn-seq-v2.c</a>,
		<a href="MPI/heat-eqn-par-v2.c">heat-eqn-par-v2.c</a>,
		<a href="MPI/heat-eqn-par-overlap-v2.c">heat-eqn-par-overlap-v2.c</a>.
	<li> Additional code for above programs (you will need these
		to compile):
		<a href="Sequential-C/heat-eqn-functions.h">heat-eqn-functions.h</a>,
		<a href="MPI/heat-eqn-mpi-functions.h">heat-eqn-mpi-functions.h</a>.
	</ul>

<li> Programs for Mandelbrot example:
	<ul>
	<li> Sequential version:
		<a href="Sequential-C/mandelbrot-seq.c">
			mandelbrot-seq.c</a>.
	<li> Parallel version assigning work by blocks:
		<a href="MPI/mandelbrot-mpi-block.c">
			mandelbrot-mpi-block.c</a>.
	<li> Parallel version assigning work dynamically:
		<a href="MPI/mandelbrot-mpi-dynamic.c">
			mandelbrot-mpi-dynamic.c</a>.
	<li> Parallel version assigning work round-robin:
		<a href="MPI/mandelbrot-mpi-cyclic.c">
			mandelbrot-mpi-cyclic.c</a>.
	<li> Additional code for above programs (you will need these
		to compile):
		<a href="Sequential-C/mandelbrot-gui.h">mandelbrot-gui.h</a>.
	<li> Makefile:
		<a href="MPI/Makefile.mandelbrot">Makefile.mandelbrot</a>.
	</ul>

<li> Programs for matrix multiplication example:
	<ul>
	<li> Simple sequential version:
		<a href="Sequential-C/matrix-mult-seq-simple.c">
			matrix-mult-seq-simple.c</a>.
	<li> Block-based sequential version:
		<a href="Sequential-C/matrix-mult-seq-block.c">
			matrix-mult-seq-block.c</a>.
	<li> Block-based parallel version:
		<a href="MPI/matrix-mult-par-block.c">
			matrix-mult-par-block.c</a>.
	<li> Additional code for above programs (you will need these
		to compile):
		<a href="Sequential-C/matrix-mult-initfortest.h">
			matrix-mult-initfortest.h</a>,
		<a href="Sequential-C/matrix-mult-print.h">
			matrix-mult-print.h</a>,
		<a href="Sequential-C/matrix-mult-utility.h">
			matrix-mult-utility.h</a>,
		<a href="MPI/matrix-mult-par-initfortest.h">
			matrix-mult-par-initfortest.h</a>,
		<a href="MPI/matrix-mult-par-print.h">
			matrix-mult-par-print.h</a>,
		<a href="MPI/matrix-mult-par-utility.h">
			matrix-mult-par-utility.h</a>.
	</ul>

<li> Generic master/worker programs:
	<ul>
	<li> Sequential version:
		<a href="Sequential-C/master-worker-seq.c">
		master-worker-seq.c</a>.
	<li> Parallel version (static assignment of tasks to workers):
		<a href="MPI/master-worker-par-static.c">
		master-worker-par-static.c</a>.
	<li> Parallel version (dynamic assignment of tasks to workers):
		<a href="MPI/master-worker-par-dynamic.c">
		master-worker-par-dynamic.c</a>.
	<li> Additional code for above programs (you will need these
		to compile):
		<a href="Sequential-C/master-worker-functions.h">
		master-worker-functions.h</a>.
	</ul>

</ul>

<h2> Java </h2>

<ul>

<li> My notes <a href="http://www.cs.trinity.edu/~bmassing/Misc/java-cmdline-howto/">
	Java from the Command Line</a>.

<li> ZIP archive containing all examples 
	<a href="Java/csci3366sample.zip">csci3366sample.zip</a>.

<li> Utility classes:
	<a href="Java/csci3366sample/ThreadUtility.java">ThreadUtility.java</a>.

<li> "Hello, world" programs:
	<ul>
	<li> Version using anonymous inner class:
		<a href="Java/csci3366sample/hello/Hello1.java">Hello1.java</a>.
	<li> Version using static inner class:
		<a href="Java/csci3366sample/hello/Hello2.java">Hello2.java</a>.
	<li> Versions using <tt>java.util.concurrent</tt>:
		<a href="Java/csci3366sample/hello/Hello3.java">Hello3.java</a>,
		<a href="Java/csci3366sample/hello/Hello4.java">Hello4.java</a>,
		<a href="Java/csci3366sample/hello/Hello4.java">Hello5.java</a>.
	</ul>

<li> Simple example of synchronization among threads:
	<ul>
	<li> Without synchronization:
		<a href="Java/csci3366sample/synch/HelloSynch1.java">HelloSynch1.java</a>.
	<li> With incorrect synchronization:
		<a href="Java/csci3366sample/synch/HelloSynch2.java">HelloSynch2.java</a>.
	<li> With correct synchronization, two ways:
		<a href="Java/csci3366sample/synch/HelloSynch3.java">HelloSynch3.java</a>,
		<a href="Java/csci3366sample/synch/HelloSynch4.java">HelloSynch4.java</a>.
	</ul>

<li> Programs to compute pi by numerical integration:
	<ul>
	<li> Sequential version:
		<a href="Java/csci3366sample/numint/NumIntSeq.java">NumIntSeq.java</a>.
	<li> Parallel version using explicit threads:
		<a href="Java/csci3366sample/numint/NumIntPar1.java">NumIntPar1.java</a>.
	<li> Parallel version using <tt>java.util.concurrent</tt>:
		<a href="Java/csci3366sample/numint/NumIntPar2.java">NumIntPar2.java</a>.
	</ul>

<li> "Bounded buffer" class and test program, showing use of
	wait/notify synchronization and interrupts:
	<a href="Java/csci3366sample/bbuf/BoundedBuffer.java">BoundedBuffer.java</a>,
	<a href="Java/csci3366sample/bbuf/TestBoundedBuffer.java">TestBoundedBuffer.java</a>.

</ul>

<li> Programs to test/time mergesort:
	<ul>
	<li> Sequential version:
		<a href="Java/csci3366sample/mergesort/MergeSortSeq.java">MergeSortSeq.java</a>.
	<li> Parallel version: 
		<a href="Java/csci3366sample/mergesort/MergeSortPar.java">MergeSortPar.java</a>.
	</ul>

<li> Generic master/worker programs:
	<ul>
	<li> Supporting code:
    <a href="Java/csci3366sample/masterworker/FakeTasks.java">
        FakeTasks.java</a>.
	<li> Sequential version:
    <a href="Java/csci3366sample/masterworker/seq/MasterWorkerSeq.java">
        seq/MasterWorkerSeq.java</a>.
	<li> Multi-threaded versions:
		<ul>
		<li> <a href="Java/csci3366sample/masterworker/threads/MasterWorkerParStatic.java">
			threads/MasterWorkerParStatic.java</a>.
		<li> <a href="Java/csci3366sample/masterworker/threads/MasterWorkerParDynamic.java">
			threads/MasterWorkerParDynamic.java</a>.
		</ul>
	<li> Client-server versions using sockets:
		<ul>
		<li> Supporting code:
			<a href="Java/csci3366sample/masterworker/sockets/Master.java">
			sockets/Master.java</a>.
		<li> Worker:
			<a href="Java/csci3366sample/masterworker/sockets/Worker.java">
			sockets/Worker.java</a>.
		<li> Master using "parallel" approach 
			(it knows how many workers):
			<a href="Java/csci3366sample/masterworker/sockets/Master1.java">
			sockets/Master1.java</a>.
		<li> Master using "distributed" approach (it continues
			to accept workers until all tasks are done):
			<a href="Java/csci3366sample/masterworker/sockets/Master2.java">
			sockets/Master2.java</a>
		</ul>
        To execute:  Compile everything, and then run either
        sockets/Master1 or sockets/Master2 as the master, 
		plus one or more workers.
		The <tt>start-workers</tt> script below may be useful.
	<li> Client-server version using RMI:
		<ul>
		<li> Supporting code:
			<a href="Java/csci3366sample/masterworker/rmi/MasterInterface.java">
			rmi/MasterWorkerRMIMasterInterface.java</a>,
			<a href="Java/csci3366sample/masterworker/rmi/WorkerInterface.java">
			rmi/MasterWorkerRMIWorkerInterface.java</a>.
		<li> Master:
			<a href="Java/csci3366sample/masterworker/rmi/Master.java">
			rmi/Master.java</a>.
		<li> Worker:
			<a href="Java/csci3366sample/masterworker/rmi/Worker.java">
			rmi/Worker.java</a>.
		</ul>
		To execute:  Compile everything, start an instance of
		the registry with the command "rmiregistry" (in the 
		directory containing the <tt>.class</tt> files), and
		then run one master and one or more workers.
		The <tt>start-workers</tt> script below may be useful.

	<li> Script <a href="Java/start-workers">start-workers</a>
	to start "worker" processes on selected machines.
	(Somewhat preliminary version.)
	To use, copy into a directory in your search path
	(current directory will probably work) and make executable
	with <tt>chmod u+x start-workers</tt>.
	Executing with no arguments gives a usage message.

	</ul>

</ul>

<h2> OpenCL </h2>

<ul>
<li> My notes <a href="http://www.cs.trinity.edu/~bmassing/Misc/opencl-howto/">
	Using OpenCL on the Linux Lab Machines</a>.

<li> Sample makefile <a href="OpenCL/Makefile">Makefile</a>
	for compiling C and C++ programs.
	(See the <a href="#makefilenote">Note About
	Makefiles</a> below.)

<li> Utility functions for use with examples:
	<a href="Sequential-C/timer.h">timer.h</a>,
	<a href="Sequential-C/filesize.h">filesize.h</a>.
	<a href="Sequential-C/cmdline.h">cmdline.h</a>.
	<a href="OpenCL/utility.h">utility.h</a>.

<li> First program (to show information about available devices):
	<a href="OpenCL/semi-hello.c">semi-hello.c</a>.

<li> Simple example (vector addition):
	<ul> 
	<li> Version shown in class:
		<a href="OpenCL/vector-add.c">vector-add.c</a>.
	<li> Version using <tt>utility.h</tt> functions:
		<a href="OpenCL/vector-add-v2.c">vector-add-v2.c</a>.
	<li> Version using events, as an example of their use:
		<a href="OpenCL/vector-add-v3.c">vector-add-v3.c</a>.
	</ul>

<li> Example of totally contrived non-trivial computation:
	<a href="OpenCL/vector-compute.c">
	vector-compute.c</a>,
	<a href="OpenCL/vector-compute-aux.h">
	vector-compute-aux.h</a>.

<li> Programs to compute pi by numerical integration:
	<ul>
	<li> Sequential version (simple version):
		<a href="OpenCL/num-int-seq-float1.c">
		num-int-seq-float1.c</a>.
	<li> Sequential version (homebrew "improved" version):
		<a href="OpenCL/num-int-seq-float2.c">
		num-int-seq-float2.c</a>.
	<li> Sequential version (improved version using Kahan algorithm):
		<a href="OpenCL/num-int-seq-float3.c">
		num-int-seq-float3.c</a>.
	<li> Parallel version using OpenCL kernel on GPU:
		<a href="OpenCL/num-int-par.c">
		num-int-par.c</a>.
	<li> Parallel version using OpenCL kernel, with command-line
		arguments that allow varying some parameters:
		<a href="OpenCL/num-int-par-with-args.c">
		num-int-par-with-args.c</a>.
	</ul>

<li> Programs for heat diffusion example:
	<ul>
	<li> Sequential version (using floats rather than doubles):
		<a href="OpenCL/heat-eqn-seq-float.c">
			heat-eqn-seq-float.c</a>.
	<li> Parallel version: 
		<a href="OpenCL/heat-eqn-par.c">
			heat-eqn-par.c</a>.
	<li> Parallel version copying to local memory:
		<a href="OpenCL/heat-eqn-par-localmem.c">
			heat-eqn-par-localmem.c</a>.
	<li> Revised versions that combine loops where feasible:
		<a href="OpenCL/heat-eqn-seq-float-v2.c">
			heat-eqn-seq-float-v2.c</a>,
		<a href="OpenCL/heat-eqn-par-v2.c">
			heat-eqn-par-v2.c</a>,
		<a href="OpenCL/heat-eqn-par-localmem-v2.c">
			heat-eqn-par-localmem-v2.c</a>.
	<li> Additional code for above programs (you will need these
		to compile):
		<a href="OpenCL/heat-eqn-functions.h">
			heat-eqn-functions.h</a>,
		<a href="OpenCL/heat-eqn-seq-functions.h">
			heat-eqn-seq-functions.h</a>,
		<a href="OpenCL/heat-eqn-par-functions.h">
			heat-eqn-par-functions.h</a>.
	</ul>

</ul>

<h2> POSIX Threads </h2>

<ul>
<li> Sample makefile <a href="P-Threads/Makefile">Makefile</a>
	for compiling C and C++ programs.
	(See the <a href="#makefilenote">Note About
	Makefiles</a> below.)

<li> Utility functions for use with examples:
	<a href="Sequential-C/timer.h">timer.h</a>,
	<a href="Sequential-C/cmdline.h">cmdline.h</a>.

<li> "Hello, world" program: 
    <a href="P-Threads/hello.c">hello.c</a>,

<li> Simple example of synchronization among threads:
	<ul>
	<li> Without synchronization:
		<a href="P-Threads/synch-1.c">synch-1.c</a>.
	<li> Using lock for synchronization:
		<a href="P-Threads/synch-2.c">synch-2.c</a>.
	</ul>

<li> Programs to compute pi by numerical integration:
	<ul>
	<li> Sequential version:
		<a href="Sequential-C/num-int-seq.c">num-int-seq.c</a>.
	<li> Parallel version (using lots of global variables):
		<a href="P-Threads/num-int-par1.c">num-int-par1.c</a>.
	<li> Parallel version (not using global variables):
		<a href="P-Threads/num-int-par2.c">num-int-par2.c</a>.
	</ul>

</ul>

<h2> C++11 Threads </h2>

<ul>
<li> Sample makefile <a href="C++Threads/Makefile">Makefile</a>
	for compiling C++ programs.
	(See the <a href="#makefilenote">Note About
	Makefiles</a> below.)
    Notice that you will need to use the more-recent of the two 
    versions of <tt>gcc</tt> available.
    See my notes 
    <a href="http://www.cs.trinity.edu/~bmassing/Misc/gcc-howto/"> GNU compilers on the CS lab machines</a>
    for more about that.

<li> Utility functions for use with examples:
	<a href="Sequential-C/timer.h">timer.h</a>,
	<a href="Sequential-C/cmdline.h">cmdline.h</a>.

<li> "Hello, world" program: 
    <a href="C++Threads/hello.cpp">hello.cpp</a>,

<li> Simple example of synchronization among threads:
	<ul>
	<li> Without synchronization:
		<a href="C++Threads/synch-1.cpp">synch-1.cpp</a>.
	<li> Using mutex lock for synchronization:
		<a href="C++Threads/synch-2.cpp">synch-2.cpp</a>.
	</ul>

<li> Programs to compute pi by numerical integration:
	<ul>
	<li> Sequential version:
		<a href="C++Threads/num-int-seq.cpp">num-int-seq.cpp</a>.
	<li> Parallel version:
		<a href="C++Threads/num-int-par.cpp">num-int-par.cpp</a>.
	</ul>

</ul>

<h2><a name="makefilenote"> Note About Makefiles </h2>

<p>
To obtain a makefile, use your browser's download function;
cutting and pasting will likely turn the tabs in the makefile
into spaces and cause it to not work.
Put the makefile in the directory in which you want to
compile.
All the makefiles linked from this page begin with
brief documentation on their use (the "usage examples").


</body>
</html>

